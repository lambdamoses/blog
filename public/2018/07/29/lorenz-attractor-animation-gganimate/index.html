

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.53 with theme Tranquilpeak 0.4.3-BETA">
    <title>Lorenz attractor animation (gganimate)</title>
    <meta name="author" content="Lambda Moses">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.png">
    

    
    <meta name="description" content="I have previously written about making the iconic Lorenz attractor animation with plotly; see that previous post for what the Lorenz system is. In the UseR! conference this year, Thomas Lin Pedersen presented the brand new version of gganimate which implements a grammar of animation, much like the grammar of graphics in ggplot2. In the older version by David Robinson, animation was made by adding an aes called frame. Now it’s just like adding geom_*s, scale_*s, stat_*s, and etc.">
    <meta property="og:description" content="I have previously written about making the iconic Lorenz attractor animation with plotly; see that previous post for what the Lorenz system is. In the UseR! conference this year, Thomas Lin Pedersen presented the brand new version of gganimate which implements a grammar of animation, much like the grammar of graphics in ggplot2. In the older version by David Robinson, animation was made by adding an aes called frame. Now it’s just like adding geom_*s, scale_*s, stat_*s, and etc.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Lorenz attractor animation (gganimate)">
    <meta property="og:url" content="/2018/07/29/lorenz-attractor-animation-gganimate/">
    <meta property="og:site_name" content="From System to System">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="From System to System">
    <meta name="twitter:description" content="I have previously written about making the iconic Lorenz attractor animation with plotly; see that previous post for what the Lorenz system is. In the UseR! conference this year, Thomas Lin Pedersen presented the brand new version of gganimate which implements a grammar of animation, much like the grammar of graphics in ggplot2. In the older version by David Robinson, animation was made by adding an aes called frame. Now it’s just like adding geom_*s, scale_*s, stat_*s, and etc.">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/f7a739781c41e528f1f2ce41ed0281fc?s=640">
    

    
      <meta property="og:image" content="/img/lorenz_custom_pers_small.gif">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-124557538-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">From System to System</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/f7a739781c41e528f1f2ce41ed0281fc?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

<link rel="stylesheet" href="/css/atom-one-light.css" rel="stylesheet" id="theme-stylesheet">
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/f7a739781c41e528f1f2ce41ed0281fc?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Lambda Moses</h4>
        
          <h5 class="sidebar-profile-bio">Monotheist, Aspie, R lover, advocate for constructive dialogues between science and religion, studying systems biology at Caltech</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/lambdamoses">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/8916916/dongyi-lu">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Lorenz attractor animation (gganimate)
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-07-29T00:00:00Z">
        
  July 29, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/r">R</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              


<p>I have previously written about making the iconic <a href="https://fromsystosys.netlify.com/2018/07/28/lorenz-attractor-animation-plotly/">Lorenz attractor animation with <code>plotly</code></a>; see that previous post for what the Lorenz system is. In the UseR! conference this year, Thomas Lin Pedersen presented the brand new version of <code>gganimate</code> which implements a <a href="https://www.youtube.com/watch?v=21ZWDrTukEs">grammar of animation</a>, much like the grammar of graphics in <code>ggplot2</code>. In the older version by David Robinson, animation was made by adding an <code>aes</code> called <code>frame</code>. Now it’s just like adding <code>geom_*</code>s, <code>scale_*</code>s, <code>stat_*</code>s, and etc. The new <code>gganimate</code> is not yet on CRAN; you can find it on <a href="https://github.com/thomasp85/gganimate">GitHub</a>. Here I use the new version of <code>ggaminate</code> to make Lorenz attractor animations. Please make sure to have the most up to date version of <code>gganimate</code> installed in order to run the code in this post.</p>
<pre class="r"><code>library(ggplot2)
library(gganimate)
# Solve differential equations
library(deSolve)
# 3D plots with ggplot2
library(gg3D)</code></pre>
<p>As in the <a href="https://fromsystosys.netlify.com/2018/07/28/lorenz-attractor-animation-plotly/"><code>plotly</code> post</a>, numerically solve the equations with 2 slightly different initial conditions.</p>
<pre class="r"><code># Specify the equations
lorenz &lt;- function(t, state, parameters) {
  with(as.list(c(state, parameters)), {
    dx &lt;- sigma * (y - x)
    dy &lt;- x * (rho - z) - y
    dz &lt;- x * y - beta * z
    list(c(dx, dy, dz))
  })
}

# Solve with any initial condition
lorenz_solve &lt;- function(y, t, params) {
  as.data.frame(ode(y = y, times = t, func = lorenz, parms = params, method = &quot;ode45&quot;))
}

# Specify parameters
parameters &lt;- c(sigma = 10, beta = 8/3, rho = 28)
# Time over which the equations are numerically solved, 25 units
times &lt;- seq(0, 25, 0.01)
# Initial conditions, in the order x, y, z
state &lt;- c(x = 2, y = 3, z = 4)
state2 &lt;- c(x = 2, y = 3, z = 4.1)
# Solve
sol &lt;- lorenz_solve(state, times, parameters)
sol2 &lt;- lorenz_solve(state2, times, parameters)
sol$init &lt;- &quot;(2,3,4)&quot;
sol2$init &lt;- &quot;(2,3,4.1)&quot;
# Combine the two solutions into the same data frame for plotting
# I dropped the last time point to get a nice number to get an integer number of frames
sols &lt;- rbind(sol[1:2500,],sol2[1:2500,])</code></pre>
<p>The data frame holding the numerical solutions is like this</p>
<pre class="r"><code>head(sols)</code></pre>
<pre><code>##   time        x        y        z    init
## 1 0.00 2.000000 3.000000 4.000000 (2,3,4)
## 2 0.01 2.117296 3.461536 3.960315 (2,3,4)
## 3 0.02 2.268655 3.951303 3.936245 (2,3,4)
## 4 0.03 2.453889 4.476829 3.930786 (2,3,4)
## 5 0.04 2.673533 5.045454 3.947722 (2,3,4)
## 6 0.05 2.928765 5.664405 3.991771 (2,3,4)</code></pre>
<div id="the-plot-explained" class="section level3">
<h3>The plot explained</h3>
<p>This is the plot we’re going to produce:</p>
<center>
<img src="/post/2018-07-29-lorenz-attractor-animation-gganimate_files/lorenz_xz_small2.gif" />
</center>
<p>Making a gif is more complicated than using <code>plotly</code>. For new useRs, here’s something to note about <code>ggplot2</code> when plotting the Lorenz system’s behaviors. I assume that you know the basics of <code>ggplot2</code>, but this is an easy trap to fall into. Note the difference between <code>geom_path</code> and <code>geom_line</code>; the former connects points in the order as they appear in the data frame, while the latter by the order of the points on the x axis. Since we’re connecting points through time rather than x, what we want here is <code>geom_path</code>.</p>
<p>Just like <code>geom_*</code>s and <code>stat_*</code>s, the animation here is added by a layer called <code>transition_*</code>. The one relevant here is <code>transition_time</code>, in which we specify a variable in the data frame that encodes time, so the variables plotted will change with time in the manner specified by this variable. There’re other <code>transition_*</code>s as well, such as <code>transition_state</code>, which switches between different states of the data through time, as specified by a categorical variable, as opposed to a continuous variable in the case of <code>transition_time</code>. The down side of this is that <code>transition_*</code> applies to all other layers. In order to only animate one or some layers while keeping some other layers static, the static layers should be specified using a separate data frame.</p>
<p>By default, the animation is rendered with default settings when the <code>ggplot</code> object is printed. In order to choose a non-default renderer, control how fast the animation runs, how many frames, and etc., we should pass the <code>ggplot</code> object to the <code>animate</code> function. For the <code>animate</code> function, you can choose from a few different renderers for the gif. Initially I used <code>renderer = magick_renderer()</code>; it used up all my memory and encroached my disk space, eventually forcing me to force quit RStudio as my disk space was running out. Then I updated <code>gganimate</code>; now its default gif renderer is <code>gifski</code>, which is a lot faster and memory efficient than <code>magick</code>. It took a while to render; on my computer, it took about 15 minutes to render 2500 frames, one frame for each time point.</p>
<p>The number of frames is specified by the argument <code>nframes</code>. In this case, I chose as many frames as there are time points. If the number of frames is more than the number of time points, then the moving point will pause at each time point, which is desirable in some cases of data presentation, but not here. More frames than time points is helpful when the data points travel a long distance from frame to frame; it helps to interpolate when the data points travel, resulting into a smooth animation. Here, our moving point travels a very short distance from frame to frame, so we don’t need interpolation. If the number of frames is less than the number of time points, then in each frame, points from several adjacent frames will be displayed as what we intended to be multiple frames get binned into one frame, while we only want one one moving point for each initial condition. So here, we should give each time point a frame.</p>
<p>Actually, back in the <a href="https://fromsystosys.netlify.com/2018/07/28/lorenz-attractor-animation-plotly/"><code>plotly</code> post</a>, when making the animation, I set <code>frame = 1</code>; this means each frame takes 1 millisecond, or 1000 frames per second. That would be way too fast. I did it just to force my computer to work as hard as it can to get the animation running. However, for gif, we have better control over how fast the animation should run, by the <code>fps</code> (frames per second) argument in <code>animate</code>; my computer works hard to render the gif, but once the gif is produced, my computer no longer needs to work that hard to run the animation. RStudio does not automatically embed the gif in the R notebook (as of the <a href="https://www.rstudio.com/products/rstudio/download/preview/">preview version 1.2</a>), so I first saved the animation with <code>anim_save</code>, the animation equivalence of <code>ggsave</code> for static images, and then inserted it into the R notebook here.</p>
<p>In the code below, we’re putting the pieces together.</p>
<pre class="r"><code># xy
p1 &lt;- ggplot(sols, aes(x, z, color = init)) +
  geom_path(data = sols[,-1], aes(x, z, color = init), size = 0.5) +
  geom_point() +
  scale_color_manual(values = c(&quot;#42e5f4&quot;, &quot;#f441e2&quot;)) +
  # theme with white background
  theme_bw()  +
  # Make sure that units of the axes have the same length
  coord_equal() +
  # Use the time column in the data frame
  transition_time(time = time)
animate(p1, nframes = 2500, fps = 25, renderer = gifski_renderer())
# Save the animation
anim_save(&quot;lorenz_xz.gif&quot;)</code></pre>
</div>
<div id="compressing-the-gif" class="section level3">
<h3>Compressing the GIF</h3>
<p>God, the gif just produced is over 70 MB! I feel sorry for those who have slow internet to put this huge version here. Fortunately, there are ways to compress gifs. One of them is the command line tool <a href="https://www.lcdf.org/gifsicle/"><code>gifsicle</code></a>. On Mac, it can be installed by</p>
<pre class="bash"><code>brew install gifsicle</code></pre>
<p>For those who are unfamiliar with the command line (I don’t like the command line either), please <a href="https://brew.sh">install homebrew</a> first. Windows users can download <code>gifsicle</code> <a href="https://eternallybored.org/misc/gifsicle/">here</a>.</p>
<p>What actually takes up so much disk space is color. Here I’m only using simple colors without gradients, so I can significantly reduce color depth without compromising quality of the gif too much. I did this: <code>-O3</code> compresses the gif by only saving changed portion of the image and reduces the size by using transparency. I chose 16 bit color (8 bit compromises the quality too much), and shrunk the original 480x480 image to 400x400, not too much.</p>
<pre class="bash"><code>gifsicle lorenz_xz.gif --optimize -O3 --colors 16 --resize 400x400  -o lorenz_xz_small2.gif</code></pre>
<p>Wow, this shrunk the whopping 71.9 MB image to a much more acceptable 3.3 MB! Here’s the result:</p>
<center>
<img src="/post/2018-07-29-lorenz-attractor-animation-gganimate_files/lorenz_xz_small2.gif" />
</center>
</div>
<div id="custom-perspectives" class="section level3">
<h3>Custom perspectives</h3>
<p>Cool. But wouldn’t it be nice if we can choose an arbitrary camera perspective? In <code>ggplot2</code>, we can only plot how x, y, and z relate to each other; we need to do some sort of complicated transformation in order to plot an arbitrary perspective. The good news is, there’s a package called <a href="https://github.com/AckerDWM/gg3D"><code>gg_3D</code></a> (not yet on CRAN), that allows us to make 3D (though not interactive) plots with <code>ggplot2</code>; here we can set arbitrary camera perspectives with <code>theta</code> and <code>phi</code> as in spherical coordinates. This is better than nothing, though it’s not very intuitive and takes trial and error to find the best (in my case here, the prettiest) perspective, and you have to restate the <code>theta</code> and <code>phi</code> for every single layer you add. Another inconvenience with this package right now is that we have to painstakingly adjust the positions of axis labels manually; the package does not automatically place axis labels at the right place when you use non-default perspective. I hope that this will improve in the future. Let me first use <code>gg3D</code> to recreate the perspective I used in my <a href="https://fromsystosys.netlify.com/2018/07/28/lorenz-attractor-animation-plotly/"><code>plotly</code> post</a>.</p>
<pre class="r"><code>ggplot(sol, aes(x = x, y = y, z = z, color = time)) +
  theme_void() +
  axes_3D(theta = -135, phi = 14) +
  stat_3D(geom = &quot;path&quot;, theta = -135, phi = 14) +
  scale_color_viridis_c() +
  labs_3D(labs = c(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;), hjust = c(-15, 18, -21), vjust = c(0, 16, 7)) +
  coord_equal()</code></pre>
<p><img src="/post/2018-07-29-lorenz-attractor-animation-gganimate_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Nice, it works! Here’s the animation</p>
<pre class="r"><code>p2 &lt;- ggplot(sols, aes(x = x, y = y, z = z, color = init)) +
  theme_void() +
  axes_3D(theta = -135, phi = 14) +
  stat_3D(data = sols[,-1], mapping = aes(x = x, y = y, z = z, color = init), 
          geom = &quot;path&quot;, size = 0.5, theta = -135, phi = 14) +
  stat_3D(geom = &quot;point&quot;, theta = -135, phi = 14) +
  labs_3D(labs = c(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;), 
          hjust = rep(c(-15, 18, -21), 2500), vjust = rep(c(0, 16, 7), 2500)) +
  coord_equal() +
  transition_time(time)
animate(p2, nframes = 2500, fps = 20)
anim_save(&quot;lorenz_custom_persp.gif&quot;)</code></pre>
<p>The resulting gif is 58.8 MB. Again, I compressed the image with <code>gifsicle</code> like I did above and shrunk it into 2.5 MB.</p>
<center>
<img src="/post/2018-07-29-lorenz-attractor-animation-gganimate_files/lorenz_custom_pers_small.gif" />
</center>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/aesthetic/">aesthetic</a>

  <a class="tag tag--primary tag--small" href="/tags/math/">math</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/08/09/the-best-and-worst-parts-of-being-autistic/" data-tooltip="The Best and Worst Parts of Being Autistic">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/07/28/lorenz-attractor-animation-plotly/" data-tooltip="Lorenz attractor animation (Plotly)">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/07/29/lorenz-attractor-animation-gganimate/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/07/29/lorenz-attractor-animation-gganimate/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2018/07/29/lorenz-attractor-animation-gganimate/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Lambda Moses. All Rights Reserved
  </span>
</footer>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/08/09/the-best-and-worst-parts-of-being-autistic/" data-tooltip="The Best and Worst Parts of Being Autistic">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/07/28/lorenz-attractor-animation-plotly/" data-tooltip="Lorenz attractor animation (Plotly)">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2018/07/29/lorenz-attractor-animation-gganimate/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2018/07/29/lorenz-attractor-animation-gganimate/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2018/07/29/lorenz-attractor-animation-gganimate/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2018%2F07%2F29%2Florenz-attractor-animation-gganimate%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2018%2F07%2F29%2Florenz-attractor-animation-gganimate%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2018%2F07%2F29%2Florenz-attractor-animation-gganimate%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/f7a739781c41e528f1f2ce41ed0281fc?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Lambda Moses</h4>
    
      <div id="about-card-bio">Monotheist, Aspie, R lover, advocate for constructive dialogues between science and religion, studying systems biology at Caltech</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        graduate student
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Los Angeles
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/02/15/my-favorite-and-least-favorite-aspects-of-r/">
                <h3 class="media-heading">My Favorite and Least Favorite Aspects of R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In September 2015, as I started working in a lab that requires bioinformatics skills, I made a new friend whose name is R. Before then, the last time I programmed was in 2008, in C, and I didn&rsquo;t do well in it. Then R has become my de facto mother tongue in programming. Three years later, I&rsquo;m writing a package for single cell RNA-seq to be submitted to Bioconductor, and I have fixed bugs in other packages.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/08/09/the-best-and-worst-parts-of-being-autistic/">
                <h3 class="media-heading">The Best and Worst Parts of Being Autistic</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I have debated for a while whether I should write this post. Eventually I decided to write it, since first, even if it may harm my opportunities of employment after I graduate, I don&rsquo;t want to work with someone who discriminates against autistics anyway because passing as neurotypical is very stressful; I need to reserve my energy for the real cool work. Second, we need to make the positive aspects of autism more well-known to reduce discrimination and increase acceptance.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/07/29/lorenz-attractor-animation-gganimate/">
                <h3 class="media-heading">Lorenz attractor animation (gganimate)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I have previously written about making the iconic Lorenz attractor animation with plotly; see that previous post for what the Lorenz system is. In the UseR! conference this year, Thomas Lin Pedersen presented the brand new version of gganimate which implements a grammar of animation, much like the grammar of graphics in ggplot2. In the older version by David Robinson, animation was made by adding an aes called frame. Now it’s just like adding geom_*s, scale_*s, stat_*s, and etc.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/07/28/lorenz-attractor-animation-plotly/">
                <h3 class="media-heading">Lorenz attractor animation (Plotly)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This is the first post in this blog.
## [1] &quot;Hello World!&quot; Once for a class assignment, we were asked to control the Lorenz system. The instructor recommended us to use MATLAB for assignments, but since I’m inexperienced in MATLAB, I decided to use R to do the assignments, and used the package plotly to make interactive 3D plots of phase portraits1 of the Lorenz system.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/07/28/resources/">
                <h3 class="media-heading">Resources for science and religion</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Here are some resources on dialogues between science and religion across faiths that I found helpful. There are many more websites and books on science and religion than are listed here; I only chose the ones I find the most helpful, and this list will continue to grow as I discover more resources. I have chosen resources that support mainstream science and have intellectual rigor. Note that while these resources all seem to oppose the common belief that science and religion are in essential conflict and cannot be reconciled (a.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         5 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://res.cloudinary.com/lambdamoses/image/upload/v1532889849/20171105_155503.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>




  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2018\/07\/29\/lorenz-attractor-animation-gganimate\/';
          
            this.page.identifier = '\/2018\/07\/29\/lorenz-attractor-animation-gganimate\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'fromsystosys';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

